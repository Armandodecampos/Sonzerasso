<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes">
  <meta name="google-adsense-account" content="ca-pub-4072893099936859">
  <title>Sonzerasso - Discoteca Online</title>
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#000">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron&family=Bangers&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      -webkit-tap-highlight-color: transparent;
    }

  .header {
      z-index:2;
      display: flex;
      align-items: left;
      justify-content: left;
      padding: 10px 20px;
      border-bottom: 5px solid #d80;
  	  background: radial-gradient(#4f4941, #000) fixed;
      background:#111;
    }

    .logo {
      display: flex;
      align-items: center;
      color: #fff;
      font-size: 24px;
      font-weight: bold;
      text-transform: uppercase;
      letter-spacing: 2px;
      pointer-events: none;
      user-select: none;
  -moz-user-select: none;
  -webkit-user-select: none;
  -ms-user-select: none;
    }

    .logo-icon {
      display: inline-block;
      width: 50px;
      height: 50px;
      margin-right: -8px;
      color: #ff6a00;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      font-weight: bold;
    }

    .logo-text {
      text-align: left;
    }

    .logo-text span:first-child {
      display: block;
      font-size: 20px;
    }

    .logo-text span:last-child {
      display: block;
      font-size: 16px;
      font-weight: normal;
      text-transform: none;
      letter-spacing: normal;
    }
    .box-player{
      position: fixed;
      z-index:0;
  top: 75px; /* Ajuste conforme necessário */
  bottom: 174px; /* Altura da barra de controles */
  left: 0;
  right: 0;
  overflow-y: auto;
  border-left:5px solid transparent;
    }

    .box-player::-webkit-scrollbar {
  width: 5px;
  background-color: transparent;
}

.box-player::-webkit-scrollbar-thumb {
height:50px;
  background-color: #000;
  border-left:1px solid #fff;
}

    .player {
      position: absolute;
  top: 11px; /* Ajuste conforme necessário */
  bottom: 170px; /* Altura da barra de controles */
  left: 0;
  right: 0;
  margin: auto;
  max-width: 500px;
  padding: 10px;
    }

.box-controles-principais {
  position: fixed;
  z-index:3;
  bottom: 0;
  margin: auto;
  left: 0;
  right: 0;
  height: 150px;
  padding: 10px;
  background-color: #222;
  color: #fff;
  border-top: 5px solid #d80;
  background: radial-gradient(#4f4941, #000) fixed;
  background:#111;
}

.controles-principais {
  bottom: 0;
  margin: auto;
  left: 0;
  right: 0;
  height: 150px;
  padding: 10px;

  max-width: 400px;
  color: #fff;

}

.controles {
  display: flex;
  justify-content: space-between;
  margin-bottom: 20px;
}

.btn {
  width: 50px;
  height: 50px;
  border: none;
  border-radius: 50%;
  background-color: #e6e6e6;
  color: #555;
  cursor: pointer;
  margin-top:5px;
  box-shadow: 0px 0px 2px rgba(0, 0, 0, 0.9);
}
.btn:hover {
animation: mudar-cor 0.3s linear;
}

.btn2 {
  width: 60px;
  height: 60px;
  border: none;
  border-radius: 50%;
  background-color: #e6e6e6;
  color: #555;
  cursor: pointer;
  box-shadow: 0px 0px 2px rgba(0, 0, 0, 0.9);
}

.btn2:hover {
animation: mudar-cor 0.3s linear;
}

.btn3 {
width:100%;
  background-color: #111;
    color: #fff;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-weight:bold;
    box-shadow: 0px 0px 2px rgba(0, 0, 0, 0.9);
}

.btn3:hover {
animation: mudar-cor 0.3s linear;
}

.btn4 {
width:100%;
  background-color: #111;
    color: #fff;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-weight:bold;
    box-shadow: 0px 0px 2px rgba(0, 0, 0, 0.9);
    width:fit-content;
}

.btn4:hover {
animation: mudar-cor 0.3s linear;
}

#play-pause i {
  font-size: 30px;
}

#menu-musicas i {
font-size: 22px;
}

#modo-reproducao i {
font-size: 22px;
}

.controles button:hover {
  animation: mudar-cor 0.3s linear;
}

.box-playlist {
z-index:2;
position:fixed;
top:0;
left:0;
right:0;
bottom:170px;
padding:10px;
background:#000;
visibility: hidden;
  opacity: 0;
  transition: opacity 0.5s, visibility 0.5s;
}
.box-playlist.ativo {
  visibility: visible;
  opacity: 1;
}

.playlist {
position:absolute;
  list-style: none;
  padding: 10px;
  margin: auto;
  left:10px;
  right:10px;
  top:65px;
  bottom:11px;
  background:#fff;
  overflow-y: auto;
  max-width: 700px;
  border:2px solid #000;
  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.9);
}

.playlist::-webkit-scrollbar {
  width: 40px;
  background-color: #222;
  border-left:1px solid #000;
}

.playlist::-webkit-scrollbar-thumb {
height:80px;
  background-color: #fff;
  border-left:1px solid #000;
}


.playlist li {
  display: flex;
  align-items: left;
  padding: 10px;
  border-bottom: 1px solid #ccc;
  cursor: pointer;
}


.playlist li:hover {
  background-color: #f0f0f0;
}

.playlist li.selecionada {
  background-color: #fa0; /* Cor de fundo quando selecionada */
  color: #fff;
}

.progresso {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 10px;
  width: 100%;
  gap:5px;
}

.progresso-icon {
  font-size: 18px;
  color: #fff;
}

#progresso-barra {
  max-width: 300px;
  accent-color: #fa0;
  margin: 5px;
}

#tempo-atual, #tempo-total {
  font-size: 12px;
      user-select: none;
  -moz-user-select: none;
  -webkit-user-select: none;
  -ms-user-select: none;
}

.volume {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  gap:5px;
}

#volume-control {
  width: 30%;
  accent-color: #fa0;
}

#volume-nivel {
  font-size: 12px;
    -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none; /* Padrao */
}
.musica-atual {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.musica-atual img {
  z-index: 1;
  width:85%;
  max-width: 300px;
  aspect-ratio:1/1;
  border-radius: 0px;
  object-fit: cover;
  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.9);
  transition: transform 0.2s;
  margin-bottom: 30px;
  border:5px solid #fff;
      user-select: none;
  -moz-user-select: none;
  -webkit-user-select: none;
  -ms-user-select: none;
  background-image: url('https://dl.dropbox.com/scl/fi/laz4o01q1tjcsl0q9t9lj/Background-Tela-bloqueio.jpg?rlkey=jg406akukb9sjsvx89v2bri1f&st=koswrl6i&dl=0');
background-size: cover;
background-position: center;
}

.box-musica-atual-span {
padding:10px;
color:#ddd;
border-top:5px double #aaa;
border-bottom:5px double #aaa;
width:100%;
}
.musica-atual span {
  font-size: 18px;
  text-align: center;
}

#lista-musicas {
  list-style: none; /* Remove marcadores da lista */
  padding: 0; /* Remove o preenchimento interno do container da lista */
  margin: 0; /* Remove margens do container */
}

#lista-musicas li {
  display: flex;
  flex-direction: column;
  font-size: 20px;
}

#lista-musicas li:hover {
  animation: mudar-cor 0.3s linear;
}

#lista-musicas li .artista {
  font-size: 18px;
}

#lista-musicas li .album {
  color: #444;
  font-size: 16px;
  margin-top: 5px;
}

#lista-musicas li .musica {
  font-style: italic;
  font-size: 18px;
  margin-top: 5px;
  font-style: italic;
  font-weight: bold;
}
.musica-atual span {
  display: block;
  text-align: center;
}

.musica-atual .artista {
  font-size: 20px;
  color:#222;
}

.musica-atual .album {
  color: #444;
  font-size: 18px;
  margin-top: 5px;
}

.musica-atual .musica {
  font-style: italic;
  font-size: 22px;
  margin-top: 5px;
  font-style: italic;
  font-weight: bold;
  color:#222;
}
/* Estilo da barra de pesquisa */
.box-barra-pesquisa {
  position: fixed;
    top: 0px; /* Ajuste conforme necessário */
    margin:auto;
    padding:10px;
    left:0;
    right:0;
  border-bottom: 5px solid #d80;
      background:#222;
      box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.9);
}

.barra-pesquisa {
    margin:auto;
    left:0;
    right:0;
    max-width:300px;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
  }

#searchInput {
    width: 100%;
    padding: 8px;
    font-size: 14px;
    border: 1px solid #ccc;
    border-radius: 5px;
    background-color: #fff;
    color: #222;
    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.9);
  }

  #searchInput:focus {
    outline: none;
    box-shadow: 0px 0px 10px rgba(255, 180, 0, 0.9);
  }
   #searchInput:hover {
    animation: mudar-cor 0.3s linear;
  }

#limpar-pesquisa {
    padding: 8px 12px;
    font-size: 14px;
    cursor: pointer;
    border: none;
    border-radius: 5px;
    background-color: #fa0;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.3s;
    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.9);
  }

  #limpar-pesquisa i {
    font-size: 18px;
    color: #000;
  }

  #limpar-pesquisa:hover {
    animation: mudar-cor 0.3s linear;
  }

  #mensagem-nenhum-resultado {
    font-size:14px;
    margin:50px;
  }
  
  #menu-musicas, 
#anterior, 
#play-pause, 
#proxima, 
#modo-reproducao {
  background-color: #fff;
  color: #000;
  border:2px solid #000;
  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.9);
  font-size:18px;
}

#menu-musicas, 
  #modo-reproducao {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background-color: #fff;
    color: #000;
    border: 2px solid #000;
    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.9);
    font-size: 18px;
    cursor: pointer;
  }

  #menu-musicas:hover,
  #modo-reproducao:hover {
    animation: mudar-cor 0.3s linear;
  }

#menu-musicas:hover,
#anterior:hover,
#play-pause:hover,
#proxima:hover,
#modo-reproducao:hover {
  animation: mudar-cor 0.3s linear;
}

#artistas {
  display: flex;
  flex-direction: column;
  flex-wrap: wrap;
  padding:20px;
}

#artistas::-webkit-scrollbar {
  width: 40px;
  background-color: #222;
  border-left:1px solid #000;
}

#artistas::-webkit-scrollbar-thumb {
height:80px;
  background-color: #ddd;
  border-left:1px solid #000;
}

#artistas::-webkit-scrollbar-thumb:hover {
  animation: mudar-cor 0.3s linear;
}

#artistas::-webkit-scrollbar-track {
  background-color: #333;
}

#artistas a {
  display: inline-block;
  margin-right: 10px;
  text-decoration: none;
  color: #000;
  display: block;
}

#artistas a:hover {
  animation: mudar-cor 0.3s linear;
}

#artistas a.artista-link {
  display: inline-block;
  margin-right: 10px;
  padding: 5px 10px;
  border-bottom: 1px solid #ccc;
  background-color: #fff;
  padding-top: 10px;
  text-decoration: none;
  color: #000;
}

#artistas a.artista-link:hover {
  animation: mudar-cor 0.3s linear;
}

#voltar-topo {
  display: none;
  position: fixed;
  bottom: 200px;
  width:fit-content;
  margin:auto;
  left:0;
  right: 0;
  background-color: #111;
  color: #fa0;
  padding: 12px 22px;
  border: none;
  cursor: pointer;
  border-radius: 5px;
  font-size:16px;
}

#voltar-topo:hover {
  animation: mudar-cor 0.3s linear;
}

.destaque-temporario {
  border-top:7px solid #fa0;
}

#fechar-lista {
  padding: 8px 12px;
  font-size: 14px;
  cursor: pointer;
  border: none;
  border-radius: 5px;
  background-color: #fa0;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background-color 0.3s;
  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.9);
}

#fechar-lista i {
  font-size: 18px;
  color: #000;
}

#fechar-lista:hover {
  animation: mudar-cor 0.3s linear;
}

.box-informacoes {
  position: fixed;
  margin: auto;
  z-index: 4;
  top: 75px;
  bottom: 0;
  left: 0;
  right: 0;
  background: #fff;
  display:none;
  overflow-y: scroll;
}

.box-informacoes::-webkit-scrollbar {
  width: 40px;
  background-color: #333;
  border-left:1px solid #000;
}

.box-informacoes::-webkit-scrollbar-thumb {
height:80px;
  background-color: #fff;
  border-left:1px solid #000;
}

.informacoes {
  position: absolute;
  margin: auto;
  top: 40px;
  left: 10px;
  right: 10px;
  padding: 20px;
  background: #fff;
  display: flex;
  flex-direction: column;
  align-items: left;
  justify-content: left;
  max-width:500px;
}


#fechar {
  margin:auto;
  left:0;
  right:0;
  width: 50px;
  height: 50px;
  color: #000;
  border: 2px solid #000;
  cursor: pointer;
  font-size: 30px;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius:50%;
  background:#fa0;
  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.9);
}

#fechar:hover {
   animation: mudar-cor 0.3s linear;
}

#fechar2 {
position: fixed;
  top: 10px;
  right: 17px;
  width: 50px;
  height: 50px;
  color: #000;
  border: 2px solid #000;
  cursor: pointer;
  font-size: 30px;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius:50%;
  background:#fa0;
  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.9);
}

#fechar2:hover {
   animation: mudar-cor 0.3s linear;
}

#abrir-informacoes {
  position: absolute;
  top: 12px;
  right: 20px;
  width: 40px;
  height: 40px;
  color: #fa0;
  border: 2px solid #000;
  cursor: pointer;
  font-size: 40px;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius:50%;
  background:#000;
  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.9);
}

#abrir-informacoes:hover {
  animation: mudar-cor 0.3s linear;
}

.s-minimalista {
  font-size: 45px;
  color: #fa0;
  text-transform: uppercase;
}
/* Preloader - Tela de Carregamento */
#preloader {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: radial-gradient(#4f4941, #000) fixed;
  background:#222;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999; /* Certifique-se de que o preloader fique acima de tudo */
  pointer-events: none;
}
.carregando {
  border: 4px solid #f3f3f3;
  border-top: 4px solid #fa0;
  border-radius: 50%;
  width: 20px;
  height: 20px;
  animation: girar 1s linear infinite;
  margin-left: 10px;
}

@keyframes girar {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

/* Loader - Barras da onda musical */
.loader {
position:fixed;
height:90px;
top:45%;
  display: flex;
  align-items: center;
  gap: 7px;
}

.loader span {
  width: 20px; /* Largura de cada barra */
  height: 0px; /* Altura inicial */
  border-radius:50px;
  animation: wave 1.5s infinite ease-in-out;
}

/* Alteração na animação de cada barra */
.loader span:nth-child(1) { animation-delay: 0s; }
.loader span:nth-child(2) { animation-delay: 0.2s; }
.loader span:nth-child(3) { animation-delay: 0.4s; }
.loader span:nth-child(4) { animation-delay: 0.6s; }
.loader span:nth-child(5) { animation-delay: 0.8s; }
/* Animação de onda */
@keyframes wave {
  0%, 100% {
    height: 20px;; /* Altura inicial */
    background-color: #fa0;
  }
  30% {height: 50px;
    background-color: #0fa;
  }
  60% {height: 90px;
    background-color: #0af;
  }
  
  75% {height: 20px;
    background-color: #f92;
  }
}
.neon {
	font-size:11px;
  color: #fff;
  text-shadow: 0 0 10px #fff;
  animation: piscar 1s infinite;
  margin-left:2px;
}

@keyframes piscar {
  0% { opacity: 1; }
  50% { opacity: 0.7; }
  100% { opacity: 1; }
}
@keyframes mudar-cor {
  0% {
    filter: brightness(1);
  }
  50% {
    filter: brightness(0.5);
  }
  0% {
    filter: brightness(1);
  }
}
.remover-selecao{
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none; /* Padrao */
}

#install-button {
    z-index: 1;
    position: fixed;
    bottom: 180px;
    margin: auto;
    left: 0;
    right: 0;
    width:fit-content;
    display: inline-block;
    padding: 10px;
    font-size: 18px;
    font-weight: bold;
    color: #fff;
    background: linear-gradient(45deg, #ff6a00, #ffa500);
    border: none;
    border-radius: 10px;
    box-shadow: 0 0 15px rgba(255, 106, 0, 0.7);
    cursor: pointer;
    transition: transform 0.3s, box-shadow 0.3s;
    animation: pulsate 1.5s infinite;
}

#install-button:hover {
    transform: scale(1.1);
    box-shadow: 0 0 25px rgba(255, 106, 0, 1);
}

@keyframes pulsate {
  0%, 100% {
    box-shadow: 0 0 15px rgba(255, 106, 0, 0.7);
  }
  50% {
    box-shadow: 0 0 25px rgba(255, 106, 0, 1);
  }
}

.maisinfo {
z-index:1;
top:0px;
margin:auto;
left:0;
right:0;
color:#ddd;
margin-bottom:30px;
font-size:17px;
max-width:80%;
text-align: center;
padding: 10px;
background-color: #222;
box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.6);
 text-transform: uppercase;
}

    /* Animação para o contador */
    #contador {
      color: #FFD700; /* Cor dourada para o contador */
      font-size: 22px;
    }
#texto-letra{
font-size:20px;
}

  </style>
</head>
<body>
  <script>
    const audioFalso = new Audio();
audioFalso.src = 'https://dl.dropbox.com/scl/fi/jhebumx6w8rrhr2ys5t48/infinitely-loud-silence-ils-74283.mp3?rlkey=uzatzglajlyfev665s2lz5bgj&st=w6f9au8u&dl=0'; // Arquivo silencioso
audioFalso.loop = true; // Loop infinito
audioFalso.volume = 0.001; // Volume quase zero

// Manter o áudio sempre tocando em segundo plano
function manterAudioAtivo() {
    audioFalso.play().catch(err => console.log('Erro ao manter áudio ativo:', err));
}

// Ativa o loop assim que o usuário interagir com a página
document.addEventListener('visibilitychange', () => {
    if (document.visibilityState === 'hidden') {
        manterAudioAtivo();
    } else {
        audioFalso.pause();
    }
});

  </script>
<div id="preloader">
  <div class="loader">
    <span></span>
    <span></span>
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
    <header class="header">
    <div class="logo">
      <div class="logo-icon">
        <span class="s-minimalista">S</span>
        </div>
      <div class="logo-text">
        <span style="color:#fa0;">onzerasso</span>
        <div class="neon">Discoteca Online</div>
      </div>
    </div>
 
    <i id="abrir-informacoes" class="fa fa-plus-circle"></i>

  </header>
  <div id="box-informacoes" class="box-informacoes">
  <div id="informacoes" class="informacoes">
  
  



<br>
<br>
<h3 style="font-weight:bold;color:#000;">Contribua com o crescimento do site e a adição de novas músicas!</h3>
        <br>
          <p>🔸 Contribuir com um pix de qualquer valor:</p>
          <br>
          <div style="margin:auto;left:0;right:0">
          <img src="https://dl.dropbox.com/scl/fi/wkwkihb1k14xh3xp1a5ae/contribua.png?rlkey=d0xtpqkdh1thq8gaufqgla2fs&st=d99llpw7&dl=0" style="width:200px;margin:auto;display:block;left:0;right:0;margin-top:0px; margin-bottom:20px; box-shadow: 0px 0px 2px 1px black;padding:15px;background:#fff">
          </div>
          <button class="btn3" id="copiarpix">Copiar Pix</button>
          <p style="font-size:13px;">*A Chave pix é "contribuacomosite@gmail.com" e o beneficiário é "Armando de Campos Júnior".</p>
          <br>
          <p>🔸 Contribuir com o PayPal:</p>
          <form action="https://www.paypal.com/donate" method="post" target="_blank" rel="noopener noreferrer">
                    <input type="hidden" name="hosted_button_id" value="EAVYNVVQQYK6S" />
                    <button class="btn3">Ir para a página</button>
                </form>
                <br>
          <p>🔸 compartilhe o site:</p>
	  <div style="margin:auto;left:0;right:0">
          <img src="https://dl.dropbox.com/scl/fi/72yvdk6gib1hwznzm7t5k/sonzerasso-qrcode.png?rlkey=3vdy36l5rmo4vfxknsbd2qg4y&st=c4hbkb5o&dl=0" style="width:200px;margin:auto;display:block;left:0;right:0;margin-top:0px; margin-bottom:20px; box-shadow: 0px 0px 2px 1px black;padding:15px;background:#fff">
          </div>
          <button class="btn3" id="copiarlink">Copiar endereço</button>
          <br>
          <p>Os meus sinceros agradecimentos!</p>
          <p style="font-size:12px;font-weight:bold;">Criador do site: Armando de Campos Júnior.</p>
          <br>
          <br>
          <br>
          <button id="fechar"><i class="fa fa-reply"></i></button>
          <br>
          <br>
          <br>
          <button id="fechar2"><i class="fa fa-reply"></i></button>
</div>
</div>
<div class="box-player" id="box-player">
  <div class="player">
  <div class="maisinfo" id="maisinfo"><span id="contador"></span>músicas! Uma seleção de rock, metal, blues, jazz, pop, folk e muito mais.</div>
  <div class="musica-atual">
  <h4 style="color:#555" >Música atual:</h4>
  <img id="imagem-musica" src="" alt="">
  <div class="box-musica-atual-span">
  <span class="artista" id="artista-atual"></span>
  <span class="album" id="album-atual"></span>
  <span class="musica" id="musica-atual-nome"></span>
  </div>
  <br>
  <br>
<div id="letra-musica" style="display:none; margin: auto; text-align: center;">
  <h4>Letra da Música:</h4>
  <p id="texto-letra">Carregando...</p>
  <br>
  <br>
  <button onclick="traduzirComGoogle()" class="btn4">Traduzir com Google</button>
  <br><br>
</div>
<button onclick="pesquisarLetraNoNavegador()" class="btn4">Pesquisar letra no navegador</button>

<button id="install-button" style="display: none;">Instale o aplicativo</button>
  <br><br><br><br><br><br>
</div>
</div>
</div>
  <!-- ... -->
<div class="box-controles-principais">
<div class="controles-principais">
  <div class="controles">
    <button class="btn2" id="menu-musicas">
  <i class="fas fa-bars"></i> <!-- Ícone Menu -->
</button>
    <button class="btn" id="anterior">
  <i class="fas fa-backward"></i> <!-- Ícone Anterior -->
</button>
    <button class="btn2" id="play-pause">
  <i class="fas fa-play"></i> <!-- Ícone Play -->
</button>
    <button class="btn" id="proxima">
  <i class="fas fa-forward"></i> <!-- Ícone Próxima -->
</button>
    <button class="btn2" id="modo-reproducao" title="Modo de Reprodução">
  <i class="fas fa-random" id="icone-reproducao"></i> <!-- Ícone Aleatório inicial -->
</button>
  </div>
 
<div class="progresso">
   <i class="fas fa-clock" id="icone-tempo"></i>
   <input id="progresso-barra" type="range" min="0" max="100" step="1" value="0" oninput="mudarTempo(event)" ontouchmove="mudarTempo(event)">  <span id="tempo-atual">00:00</span><span class="remover-selecao">/</span>
  <span id="tempo-total">00:00</span>
  <div class="carregando" id="carregando"></div>
</div>
  <div class="volume">
  <i class="fas fa-volume-up" id="icone-volume"></i>
    <input type="range" id="volume-control" min="0" max="100" value="100">
    <span id="volume-nivel">100%</span>
  </div>
</div>
</div>
<div class="box-playlist" id="box-playlist">
  <div class="box-barra-pesquisa">
<div class="barra-pesquisa">
  <button id="fechar-lista" title="Fechar lista">
    <i class="fa fa-reply"></i>
  </button>
    <input type="text" id="searchInput" placeholder="Buscar música">
    <button id="limpar-pesquisa" title="Limpar pesquisa">
  <i class="fas fa-trash"></i>
</button>
  </div>
</div>
    <div class="playlist" id="playlist">
    <div id="artistas"></div>
  <ul id="lista-musicas">
  </ul>
  <br><br><br><br><br><br>
  <div id="mensagem-nenhum-resultado"></div>
    <audio id="audio" preload="auto"></audio>
    <button id="voltar-topo" aria-label="Voltar ao topo">
      <i class="fas fa-arrow-up"></i> Voltar ao topo
    </button>
  </div>
  </div>

  <script>
    // Seleção de Elementos
  const audio = document.getElementById('audio');
  const carregando = document.getElementById('carregando');
  const playPauseButton = document.getElementById('play-pause');
  const anteriorButton = document.getElementById('anterior');
  const proximaButton = document.getElementById('proxima');
  const listaMusicas = document.getElementById('lista-musicas');
  const progressoBarra = document.getElementById('progresso-barra');
  const tempoAtual = document.getElementById('tempo-atual');
  const tempoTotal = document.getElementById('tempo-total');
  const volumeControl = document.getElementById('volume-control');
  const volumeNivel = document.getElementById('volume-nivel');
  const nomeMusica = document.getElementById('musica-atual-nome');
  const modoReproducaoButton = document.getElementById('modo-reproducao');
  let modoReproducao = 'aleatorio';
  let repetir = false;
  
  // Variáveis de Controle
  let musicaAtual = 0;
  let musicas = [];
  let aleatorio = false;
  let sequencial = false;
  
  audio.addEventListener('loadedmetadata', atualizaTempoTotal);
  
  audio.addEventListener('canplaythrough', () => {
    // Áudio carregado, agora pode reproduzir
    playPauseButton.disabled = false;
    console.log('Áudio carregado!');
  });
  
  // Carregamento de Músicas
  for (let i = 0; i < listaMusicas.children.length; i++) {
    musicas.push({
      src: listaMusicas.children[i].dataset.src,
      imagem: listaMusicas.children[i].dataset.imagem
    });
  }
  // Selecione uma música aleatória ao iniciar
  selecionarMusicaAleatoria();
  selecionaMusicaAtual();
  
  
  // Adiciona Eventos
  playPauseButton.addEventListener('click', playPauseMusic);
  anteriorButton.addEventListener('click', anteriorMusic);
  proximaButton.addEventListener('click', proximaMusic);
  listaMusicas.addEventListener('click', selecionaMusica);
  audio.addEventListener('timeupdate', atualizaProgresso);
  audio.addEventListener('durationchange', atualizaTempoTotal);
  audio.addEventListener('ended', proximaMusicaAutomatica);
  audio.addEventListener('canplaythrough', () => {
    carregando.style.display = 'none'; // Esconde a div de carregando
    playPauseButton.disabled = false;
    console.log('Áudio carregado!');
  });
  volumeControl.addEventListener('input', ajustaVolume);
  progressoBarra.addEventListener('click', (e) => {
    if (audio.readyState >= 3) { // Verifica se o áudio está completamente carregado
      const progresso = (e.offsetX / progressoBarra.offsetWidth) * audio.duration;
      
      if (isNaN(progresso) || !isFinite(progresso) || progresso < 0 || progresso > audio.duration) {
        console.error('Valor inválido para currentTime');
        return;
      }
      
      audio.currentTime = progresso;
      atualizaProgresso();
    } else {
      console.log('Áudio ainda não carregado completamente.');
    }
  });
  modoReproducaoButton.addEventListener('click', toggleModoReproducao);
  

  
  
  function mudarTempo(event) {
    const progressoBarra = document.getElementById('progresso-barra');
    const audio = document.getElementById('audio');
    
    // Calcula o novo tempo baseado no valor da barra
    const novoTempo = (progressoBarra.value / 100) * audio.duration;
    audio.currentTime = novoTempo;
    // Aguarda um pequeno tempo antes de aplicar a mudança
    clearTimeout(debounceTimeout);
    debounceTimeout = setTimeout(() => {
        audio.currentTime = novoTempo;
        updateMediaSessionPosition();
    }, 200);
  }
  
  // Atualizar progresso em tempo real
  audio.addEventListener('timeupdate', () => {
    const progressoBarra = document.getElementById('progresso-barra');
    progressoBarra.value = (audio.currentTime / audio.duration) * 100 || 0;
  });
  
  
  // Funções de Controle
  function playPauseMusic() {
    if (audio.paused) {
      audio.play();
      nomeMusica.textContent = listaMusicas.children[musicaAtual].querySelector('.musica').textContent;
      playPauseButton.innerHTML = '<i class="fas fa-pause"></i>'; 
    } else {
      audio.pause();
      playPauseButton.innerHTML = '<i class="fas fa-play"></i>'; 
    }
    carregarLetraInicial();
  }
  
  // Função para selecionar música aleatória com base em pesos
  function selecionarMusicaAleatoria() {
    const musicas = Array.from(listaMusicas.children);
    const pesos = musicas.map(musica => parseInt(musica.dataset.peso));
    const somaPesos = pesos.reduce((a, b) => a + b, 0);
    const aleatorio = Math.floor(Math.random() * somaPesos);
    let acumulado = 0;
    for (let i = 0; i < pesos.length; i++) {
      acumulado += pesos[i];
      if (aleatorio < acumulado) {
        musicaAtual = i;
        audio.src = musicas[i].dataset.src;
        document.getElementById('musica-atual-nome').textContent = musicas[i].textContent;
        document.getElementById('imagem-musica').src = musicas[i].dataset.imagem;
        break;
      }
    }
  }
  
  function proximaMusic() {
    audio.currentTime = 0;
    progressoBarra.value = 0;
    tempoAtual.textContent = '00:00';
    tempoTotal.textContent = '00:00';
  
    if (!audio.paused) {
      if (modoReproducao === 'aleatorio') {
        selecionarMusicaAleatoria();
      } else if (modoReproducao === 'repetir') {
        // Não faça nada, apenas reinicie a música atual
      } else {
        musicaAtual++;
        if (musicaAtual >= musicas.length) {
          musicaAtual = 0;
        }
        audio.src = musicas[musicaAtual].src;
      }
      audio.load();
      playMusic();
    } else {
      if (modoReproducao === 'aleatorio') {
        selecionarMusicaAleatoria();
      } else if (modoReproducao === 'repetir') {
        // Não faça nada, apenas reinicie a música atual
      } else {
        musicaAtual++;
        if (musicaAtual >= musicas.length) {
          musicaAtual = 0;
        }
        audio.src = musicas[musicaAtual].src;
      }
      audio.load();
    }
    selecionaMusicaAtual();
    playMusic();
    carregarLetraInicial();
    document.getElementById('box-player').scrollTo({ top: 0, behavior: 'smooth' });
  }
  
  function anteriorMusic() {
    audio.currentTime = 0;
    progressoBarra.value = 0;
    tempoAtual.textContent = '00:00';
    tempoTotal.textContent = '00:00';
    if (!audio.paused) {
      if (modoReproducao === 'aleatorio') {
        selecionarMusicaAleatoria();
      } else if (modoReproducao === 'repetir') {
        // Não faça nada, apenas reinicie a música atual
      } else {
        musicaAtual--;
        if (musicaAtual < 0) {
          musicaAtual = musicas.length - 1;
        }
        audio.src = musicas[musicaAtual].src;
      }
      audio.load();
      playMusic();
    } else {
      if (modoReproducao === 'aleatorio') {
        selecionarMusicaAleatoria();
      } else if (modoReproducao === 'repetir') {
        // Não faça nada, apenas reinicie a música atual
      } else {
        musicaAtual--;
        if (musicaAtual < 0) {
          musicaAtual = musicas.length - 1;
        }
        audio.src = musicas[musicaAtual].src;
      }
      audio.load();
    }
    selecionaMusicaAtual();
    playMusic();
    carregarLetraInicial();
    document.getElementById('box-player').scrollTo({ top: 0, behavior: 'smooth' });
  }
  
  
  function proximaMusicaAutomatica() {
    audio.currentTime = 0;
    progressoBarra.value = 0;
    tempoAtual.textContent = '00:00';
    tempoTotal.textContent = '00:00';
    if (modoReproducao === 'aleatorio') {
      selecionarMusicaAleatoria();
    } else if (modoReproducao === 'repetir') {
      playMusic(); // Repita a música atual
    } else {
      musicaAtual++;
      if (musicaAtual >= musicas.length) {
        musicaAtual = 0; // Retorna à primeira música
      }
      audio.src = musicas[musicaAtual].src;
      document.getElementById('musica-atual-nome').textContent = listaMusicas.children[musicaAtual].textContent;
      audio.load();  // Carrega a nova música
    }
    selecionaMusicaAtual();  // Atualiza a interface com a nova música selecionada
    updateMediaSessionMetadata();
    playMusic();
    carregarLetraInicial();
    document.getElementById('box-player').scrollTo({ top: 0, behavior: 'smooth' });
  }
  
  function toggleModoReproducao() {
    const iconeReproducao = document.getElementById('icone-reproducao');
    
    if (modoReproducao === 'aleatorio') {
      modoReproducao = 'sequencial';
      iconeReproducao.className = 'fas fa-sync'; // Ícone Sequencial
      modoReproducaoButton.title = 'Modo Sequencial';
      aleatorio = false;
      sequencial = true;
      repetir = false;
    } else if (modoReproducao === 'sequencial') {
      modoReproducao = 'repetir';
      iconeReproducao.className = 'fas fa-redo'; // Ícone Repetir
      modoReproducaoButton.title = 'Modo Repetir';
      sequencial = false;
      repetir = true;
    } else {
      modoReproducao = 'aleatorio';
      iconeReproducao.className = 'fas fa-random'; // Ícone Aleatório
      modoReproducaoButton.title = 'Modo Aleatório';
      aleatorio = true;
      repetir = false;
    }
  }
  
  
  function selecionaMusica(e) {
    audio.currentTime = 0;
    progressoBarra.value = 0;
    tempoAtual.textContent = '00:00';
    tempoTotal.textContent = '00:00';
    document.querySelector('.box-playlist').classList.remove('ativo');
    const li = e.target.closest('li');
    if (li) {
      musicaAtual = Array.prototype.indexOf.call(listaMusicas.children, li);
      audio.src = musicas[musicaAtual].src;
      nomeMusica.textContent = li.querySelector('.musica').textContent;
      document.getElementById('imagem-musica').src = musicas[musicaAtual].imagem;
      audio.load(); 
      playMusic(); 
      selecionaMusicaAtual();
    }
    carregarLetraInicial();
    document.getElementById('box-player').scrollTo({ top: 0, behavior: 'smooth' });
  }
  
  function playMusic() {
    carregando.style.display = 'block'; // Mostra a div de carregando
    audio.play();
    playPauseButton.innerHTML = '<i class="fas fa-pause"></i>'; // Ícone Pause
    atualizaTempoTotal();
  }
  
  function atualizaProgresso() {
    if (audio.readyState >= 3) {
      const progresso = (audio.currentTime / audio.duration) * 100;
      progressoBarra.value = progresso;
      tempoAtual.textContent = formatarTempo(audio.currentTime);
      if (tempoTotal.textContent === '00:00') { // Verifique se o tempo total está zerado
        atualizaTempoTotal(); // Atualize o tempo total
      }
    }
  }
  
  function atualizaTempoTotal() {
    if (audio.duration > 0) { // Garante que o tempo total seja válido
      tempoTotal.textContent = formatarTempo(audio.duration);
    }
  }
  
  function ajustaVolume() {
    audio.volume = volumeControl.value / 100;
    volumeNivel.textContent = `${volumeControl.value}%`;
  }
  
  function formatarTempo(segundos) {
    const minutos = Math.floor(segundos / 60);
    const segundosRestantes = Math.floor(segundos % 60);
    return `${minutos.toString().padStart(2, '0')}:${segundosRestantes.toString().padStart(2, '0')}`;
  }
  
  // Função para atualizar música atual
  function selecionaMusicaAtual() {
    document.getElementById('imagem-musica').src = "";
    Array.from(listaMusicas.children).forEach((musica) => musica.classList.remove('selecionada'));
    listaMusicas.children[musicaAtual].classList.add('selecionada');
    const musicaAtualElement = listaMusicas.children[musicaAtual];
    const artista = musicaAtualElement.querySelector('.artista').textContent;
    const album = musicaAtualElement.querySelector('.album').textContent;
    const musica = musicaAtualElement.querySelector('.musica').textContent;
    document.getElementById('imagem-musica').src = musicaAtualElement.dataset.imagem;
    document.getElementById('artista-atual').textContent = artista;
    document.getElementById('album-atual').textContent = album;
    document.getElementById('musica-atual-nome').textContent = musica;
  }
  
  // Função para alternar a visibilidade da lista de músicas
  function toggleListaMusicas() {
    const playlist = document.querySelector('.box-playlist');
    playlist.classList.toggle('ativo');
    
  }
  
  
  // Adicionar o evento de clique no botão "menu-musicas"
  const menuMusicasButton = document.getElementById('menu-musicas');
  menuMusicasButton.addEventListener('click', toggleListaMusicas);
  
    </script>
    <script>
  // Seleção de Elementos
  const searchInput = document.getElementById("searchInput");
  const playlist = document.getElementById("playlist");
  const artistasElement = document.getElementById('artistas');
  const songs = Array.from(playlist.getElementsByTagName("li")).map(li => {
    return { 
      element: li, 
      text: { 
        artista: li.querySelector('.artista').textContent.toLowerCase(), 
        album: li.querySelector('.album').textContent.toLowerCase(), 
        musica: li.querySelector('.musica').textContent.toLowerCase() 
      } 
    };
  });
  const artistas = Array.from(artistasElement.children).map(a => {
    return { 
      element: a, 
      text: a.textContent.toLowerCase() 
    };
  });
  const allResults = songs.concat(artistas);
  
  // Configuração do Fuse.js
  const options = {
    includeScore: true,
    keys: ['text']
  };
  const fuse = new Fuse(allResults, options);
  
  // Evento de input para a pesquisa
  searchInput.addEventListener("input", function () {
    const query = searchInput.value.trim().toLowerCase().split(' ');
    const results = [];
  
    if (query === "") {
      songs.forEach(song => {
        song.element.style.display = "";
        song.element.style.opacity = "1";
      });
      artistas.forEach(artista => {
        artista.element.style.display = "";
      });
      document.querySelectorAll('.artista-link').forEach(link => link.style.display = ''); // Exibe todos os atalhos
    } else {
      songs.forEach(song => {
        const match = query.every(word => song.text.artista.includes(word) || song.text.album.includes(word) || song.text.musica.includes(word));
        if (match) {
          song.element.style.display = "";
          song.element.style.opacity = "1";
          results.push(song);
        } else {
          song.element.style.display = "none";
          song.element.style.opacity = "0";
        }
      });
      artistas.forEach(artista => {
        const match = query.every(word => artista.text.includes(word));
        if (match) {
          artista.element.style.display = "";
          results.push(artista);
        } else {
          artista.element.style.display = "none";
        }
      });
      document.querySelectorAll('.artista-link').forEach(link => { // Pesquise nos atalhos
        const match = query.every(word => link.textContent.toLowerCase().includes(word));
        if (match) {
          link.style.display = '';
        } else {
          link.style.display = 'none';
        }
      });
      playlist.scrollTop = 0;
    }
  
    // Exibe mensagem quando não há resultados
    if (results.length === 0 && query !== "") {
      document.getElementById('mensagem-nenhum-resultado').textContent = 'Nenhum resultado encontrado';
    } else {
      document.getElementById('mensagem-nenhum-resultado').textContent = '';
    }
  });
  
  
      // Limpar pesquisa
  document.getElementById('limpar-pesquisa').addEventListener('click', () => {
    searchInput.value = '';
    songs.forEach(song => {
      song.element.style.display = ''; // Exibe todas as músicas novamente
      song.element.style.opacity = '1'; // Garante visibilidade total
    });
    
    // Exibe todos os atalhos novamente
    document.querySelectorAll('.artista-link').forEach(link => {
      link.style.display = '';
    });
    
    artistas.forEach(artista => {
      artista.element.style.display = "";
    });
  });
  </script>
  <script>
  function criarLinksArtistas() {
    const artistasElement = document.getElementById('artistas');
    const artistas = Array.from(listaMusicas.children).map(li => li.querySelector('.artista').textContent);
    const artistasUnicos = [...new Set(artistas)];
  
    // Adiciona evento de filtragem
    document.getElementById('searchInput').addEventListener('input', function() {
      const query = this.value.trim().toLowerCase();
      const links = artistasElement.children;
  
      for (let i = 0; i < links.length; i++) {
        const link = links[i];
        const match = query === "" || link.textContent.toLowerCase().includes(query);
        link.style.display = match ? "" : "none";
      }
    });
  
    artistasUnicos.sort().forEach(artista => {
      const link = document.createElement('a');
      link.href = `#${artista.toLowerCase()}`;
      link.textContent = artista;
      link.classList.add('artista-link');
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const musicasDoArtista = listaMusicas.querySelectorAll(`li .artista`);
        const primeiraMusica = Array.from(musicasDoArtista).find(musica => musica.textContent === artista);
        if (primeiraMusica) {
          primeiraMusica.parentNode.classList.add('destaque-temporario');
          setTimeout(() => {
            primeiraMusica.parentNode.classList.remove('destaque-temporario');
          }, 3000); // Tempo em milissegundos
          primeiraMusica.parentNode.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
      });
      artistasElement.appendChild(link);
    });
  }
  
  window.addEventListener('load', criarLinksArtistas);
  </script>
  <script>
  window.addEventListener('DOMContentLoaded', () => {
    const voltarTopoButton = document.getElementById('voltar-topo');
    const playlist = document.querySelector('.playlist'); // Seleciona a div playlist
  
    playlist.addEventListener('scroll', () => { // Adiciona o evento de scroll na playlist
      if (playlist.scrollTop > 200) { // Verifica se a posição de scroll é maior que 200
        voltarTopoButton.style.display = 'block';
      } else {
        voltarTopoButton.style.display = 'none';
      }
    });
  
    voltarTopoButton.addEventListener('click', () => {
      playlist.scrollTop = 0; // Volta ao topo da playlist
    });
  });
  
  </script>
  <script>
    const fecharListaButton = document.getElementById('fechar-lista');
  const boxPlaylist = document.getElementById('box-playlist');
  
  fecharListaButton.addEventListener('click', () => {
    boxPlaylist.classList.remove('ativo');
  });
  </script>
  <script>
    let temporizadorVerificacao = null;
  let tempoTotalVerificado = false;
  
  function verificarTempoTotal() {
    if (tempoTotal.textContent === '00:00' && !tempoTotalVerificado) {
      tempoTotalVerificado = true;
      temporizadorVerificacao = setTimeout(() => {
        proximaMusic();
        tempoTotalVerificado = false;
      }, 20000); // 20 segundos
    } else if (tempoTotal.textContent !== '00:00' && tempoTotalVerificado) {
      tempoTotalVerificado = false;
      clearTimeout(temporizadorVerificacao);
    }
  }
  
  audio.addEventListener('durationchange', () => {
    atualizaTempoTotal();
    verificarTempoTotal();
  });
  
  audio.addEventListener('timeupdate', () => {
    verificarTempoTotal();
  });
  
  </script>
  <script>
  document.getElementById('abrir-informacoes').addEventListener('click', function() {
      document.getElementById('box-informacoes').style.display = 'flex';
  });
  
  document.getElementById('fechar').addEventListener('click', function() {
      document.getElementById('box-informacoes').style.display = 'none';
  });
  
  document.getElementById('fechar2').addEventListener('click', function() {
      document.getElementById('box-informacoes').style.display = 'none';
  });
  </script>
  <script>
    document.getElementById('copiarpix').addEventListener('click', function() {
    navigator.clipboard.writeText('contribuacomosite@gmail.com');
    document.getElementById('copiarpix').innerText = 'Pix copiado!';
    setTimeout(() => {
      document.getElementById('copiarpix').innerText = 'Copiar Pix';
    }, 2000);
  });
  </script>
  <script>
    document.getElementById('copiarlink').addEventListener('click', function() {
    navigator.clipboard.writeText('https://sonzerasso.online/');
    document.getElementById('copiarlink').innerText = 'Link copiado!';
    setTimeout(() => {
      document.getElementById('copiarlink').innerText = 'Copiar link';
    }, 2000);
  });
  </script>
  <script>
  async function criarlinkartistas() {
    const cache = await caches.open('artistas-cache-v1');
    const cachedLinks = await cache.match('links-artistas');
  
    if (cachedLinks) {
      return cachedLinks.json(); // Retorna os links armazenados
    }
  
    // Gera os links se não estiverem no cache
    const links = [...document.querySelectorAll('#artistas a')].map((link) => link.href);
  
    // Salva no cache
    await cache.put('links-artistas', new Response(JSON.stringify(links)));
  
    return links;
  }
  
  </script>
  <script>
  // Função para atualizar o tempo total
  function atualizaTempoTotal() {
    if (audio.duration > 0) { 
      tempoTotal.textContent = formatarTempo(audio.duration);
      carregando.style.display = 'none'; // Esconde a div "Carregando..."
    } else {
      tempoTotal.textContent = '00:00';
      carregando.style.display = 'block'; // Mostra a div "Carregando..."
    }
  }
  </script>
  <script>
    window.addEventListener('beforeunload', function(event) {
      event.preventDefault();
      event.returnValue = 'Deseja recarregar a página?';
    });
  </script>
  <script>
  let deferredPrompt;
  
  window.addEventListener('beforeinstallprompt', (event) => {
      // Impede o prompt padrão
      event.preventDefault();
      // Salva o evento para usá-lo depois
      deferredPrompt = event;
  
      // Mostra o botão ou notificação para instalar o app
      const installButton = document.getElementById('install-button');
      installButton.style.display = 'block';
  
      installButton.addEventListener('click', () => {
          // Exibe o prompt de instalação
          deferredPrompt.prompt();
  
          // Analisa a escolha do usuário
          deferredPrompt.userChoice.then((choiceResult) => {
              if (choiceResult.outcome === 'accepted') {
                  console.log('Usuário aceitou a instalação.');
              } else {
                  console.log('Usuário recusou a instalação.');
              }
              deferredPrompt = null; // Redefine o prompt
          });
      });
  });
  </script>
  <script>
    let debounceTimeout;
function debounceUpdateMediaSession() {
    if (debounceTimeout) clearTimeout(debounceTimeout);
    debounceTimeout = setTimeout(updateMediaSessionPosition, 300);
}

if ("mediaSession" in navigator) {
    function updateMediaSessionMetadata() {
        if (!musicas || musicaAtual < 0 || musicaAtual >= musicas.length) return;

        const currentTrack = musicas[musicaAtual];

        navigator.mediaSession.metadata = new MediaMetadata({
            title: listaMusicas.children[musicaAtual]?.querySelector(".musica")?.textContent || "Música Desconhecida",
            artist: listaMusicas.children[musicaAtual]?.querySelector(".artista")?.textContent || "Artista Desconhecido",
            album: listaMusicas.children[musicaAtual]?.querySelector(".album")?.textContent || "Álbum Desconhecido",
            artwork: [{ src: "https://dl.dropbox.com/scl/fi/laz4o01q1tjcsl0q9t9lj/Background-Tela-bloqueio.jpg?rlkey=jg406akukb9sjsvx89v2bri1f&st=koswrl6i&dl=0", sizes: "512x512", type: "image/png" }],
          });

updateMediaSessionPosition();
}

function updateMediaSessionPosition() {
if (!("setPositionState" in navigator.mediaSession)) return;
if (isNaN(audio.duration) || audio.duration <= 0 || isNaN(audio.currentTime)) return;

try {
    navigator.mediaSession.setPositionState({
        duration: audio.duration,
        playbackRate: audio.playbackRate,
        position: audio.currentTime
    });
} catch (error) {
    console.warn("Erro ao atualizar setPositionState:", error);
}
}

// Não permita que o usuário altere a posição da música
navigator.mediaSession.setActionHandler("seekto", () => {
    // Não faça nada ao tentar mudar a posição
});


navigator.mediaSession.setActionHandler("previoustrack", () => {
anteriorMusic();
updateMediaSessionMetadata();
});

navigator.mediaSession.setActionHandler("nexttrack", () => {
proximaMusic();
updateMediaSessionMetadata();
});

// Chama a atualização de metadados assim que a primeira música carregar
audio.addEventListener("loadedmetadata", () => {
setTimeout(updateMediaSessionMetadata, 500);
});

audio.addEventListener("timeupdate", updateMediaSessionPosition);
}
  </script>
  <script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('/service-worker.js')
    .then(registration => {
      console.log('[Service Worker] Registrado com sucesso:', registration.scope);

      registration.onupdatefound = () => {
        const newWorker = registration.installing;
        newWorker.onstatechange = () => {
          if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
            console.log('[Service Worker] Nova versão disponível. Atualizando...');
            newWorker.postMessage({ type: 'SKIP_WAITING' });
            window.location.reload(); // Recarrega a página com a versão mais recente
          }
        };
      };
    })
    .catch(error => console.error('[Service Worker] Falha no registro:', error));

  navigator.serviceWorker.addEventListener('controllerchange', () => {
    console.log('[Service Worker] Nova versão ativa! Recarregando...');
    window.location.reload();
  });
}
  </script>
  <script>
  // Espera o carregamento completo da página
  window.addEventListener('load', function () {
    const preloader = document.getElementById('preloader');
    if (preloader) {
      preloader.style.opacity = '0'; // Faz o preloader desaparecer
      setTimeout(() => {
        preloader.style.display = 'none'; // Remove o preloader após o efeito de transição
      }, 500); // Tempo da transição em milissegundos (0.5s)
    }
  });
  </script>
  <script>
  document.addEventListener("DOMContentLoaded", () => {
    // Seleciona a lista <ul> e a div para exibir o número
    const listaMusicas = document.getElementById('lista-musicas');
    const contadorDiv = document.getElementById('contador');

    // Conta diretamente os filhos <li> da <ul>
    function atualizarContador() {
      const numeroDeMusicas = listaMusicas.children.length; 
      contadorDiv.innerText = `${numeroDeMusicas.toLocaleString('pt-BR')} `;
    }

    // Atualiza o contador ao carregar a página
    atualizarContador();
  });
</script>
<script>
let ultimoTempo = 0;
let contadorTempo = 0;
const tempoLimite = 20; // Tempo limite em segundos para detectar travamento

function verificarTempoParado() {
    const botaoPlayPause = document.getElementById("play-pause");

    // Verifica se o áudio está pausado ou parado e se o botão está no modo de play
    if (!audio || audio.paused || audio.ended || botaoPlayPause.querySelector("i").classList.contains("fa-play")) return;

    if (audio.currentTime === ultimoTempo) {
        contadorTempo++;
    } else {
        contadorTempo = 0;
    }

    if (contadorTempo >= tempoLimite) {
        console.warn("Música travada! Reiniciando...");
        audio.currentTime = 0; // Reinicia a barra de progresso
        recarregarMusica();
    }

    ultimoTempo = audio.currentTime;
    setTimeout(verificarTempoParado, 1000);
}

// Inicia a verificação quando a música começa a tocar
audio.addEventListener("play", () => {
    ultimoTempo = audio.currentTime;
    contadorTempo = 0;
    verificarTempoParado();
});

// Função para recarregar a música mantendo o progresso
function recarregarMusica() {
    console.warn("Erro detectado! Tentando recarregar a música...");

    if (!audio.src) return; // Evita erro caso não haja uma música carregada

    const tempoAtual = audio.currentTime; // Salva o tempo atual da música

    audio.load(); // Recarrega o áudio

    audio.addEventListener("loadeddata", function restaurarTempo() {
        audio.currentTime = tempoAtual; // Restaura o tempo
        audio.play().catch(err => console.warn("Erro ao tentar reproduzir novamente:", err));
        audio.removeEventListener("loadeddata", restaurarTempo); // Remove o evento após a execução
    });
}

// Adiciona eventos para detectar erro ou travamento
audio.addEventListener("error", recarregarMusica);
audio.addEventListener("stalled", recarregarMusica);
</script>
<script>
async function buscarLetra(artista, musica) {
    try {
        const response = await fetch(`https://api.lyrics.ovh/v1/${artista}/${musica}`);
        const data = await response.json();

        if (data.lyrics) {
            document.getElementById("texto-letra").innerText = data.lyrics;
            document.getElementById("letra-musica").style.display = "block"; // Exibe a div
        } else {
            document.getElementById("letra-musica").style.display = "none";
        }
    } catch (error) {
        console.error("Erro ao buscar letra:", error);
        document.getElementById("letra-musica").style.display = "none";
    }
}

function traduzirComGoogle() {
    let letraOriginal = document.getElementById("texto-letra").innerText;

    if (letraOriginal.trim() !== "") {
        // Abrir o Google Tradutor com a letra da música já preenchida
        let url = `https://translate.google.com/?sl=en&tl=pt&text=${encodeURIComponent(letraOriginal)}&op=translate`;
        window.open(url, '_blank');
    } else {
        alert("A letra ainda não foi carregada.");
    }
}

// Nova função para pesquisar a letra no navegador
function pesquisarLetraNoNavegador() {
    const artista = document.getElementById("artista-atual") ? document.getElementById("artista-atual").innerText.trim() : null;
    const musica = document.getElementById("musica-atual-nome") ? document.getElementById("musica-atual-nome").innerText.trim() : null;

    if (artista && musica) {
        const query = `${artista} - ${musica} (letra/lyrics)`;
        const url = `https://www.google.com/search?q=${encodeURIComponent(query)}`;
        window.open(url, '_blank');
    } else {
        alert("Informações da música não disponíveis.");
    }
}

function carregarLetraInicial() {
    let artista = document.getElementById("artista-atual") ? document.getElementById("artista-atual").innerText.trim() : null;
    let musica = document.getElementById("musica-atual-nome") ? document.getElementById("musica-atual-nome").innerText.trim() : null;

    if (artista && musica) {
        buscarLetra(artista, musica);
    } else {
        console.warn("Música ou artista não encontrados no carregamento inicial.");
    }
}

// Função para verificar quando os dados estão prontos
function verificarDadosCarregados() {
    const artista = document.getElementById("artista-atual");
    const musica = document.getElementById("musica-atual-nome");

    if (artista && musica && artista.innerText.trim() && musica.innerText.trim()) {
        carregarLetraInicial();
    } else {
        setTimeout(verificarDadosCarregados, 200); // Tenta novamente a cada 200ms
    }
}

// Inicia a verificação assim que o DOM for carregado
document.addEventListener("DOMContentLoaded", verificarDadosCarregados);
</script>

<!-- Exemplo de elementos que podem conter os dados da música -->
<div id="artista-atual" style="display:none;">Nome do Artista</div>
<div id="musica-atual-nome" style="display:none;">Nome da Música</div>

<!-- Div onde a letra será exibida -->
<div id="letra-musica" style="display:none;">
    <pre id="texto-letra"></pre>
</div>

<script>
const audioContext = new (window.AudioContext || window.webkitAudioContext)();
const gainNode = audioContext.createGain();
gainNode.connect(audioContext.destination);

document.querySelectorAll('li[data-src]').forEach(item => {
    item.addEventListener('click', function() {
        let audioElement = new Audio(this.getAttribute('data-src'));

        let source = audioContext.createMediaElementSource(audioElement);
        source.connect(gainNode);

        let analyser = audioContext.createAnalyser();
        source.connect(analyser);
        analyser.fftSize = 256;

        let bufferLength = analyser.frequencyBinCount;
        let dataArray = new Uint8Array(bufferLength);

        function adjustVolume() {
            analyser.getByteFrequencyData(dataArray);
            let avgVolume = dataArray.reduce((a, b) => a + b, 0) / bufferLength;

            // Ajusta o volume com base no nível médio detectado
            let targetGain = 1 / (avgVolume / 128);
            gainNode.gain.setTargetAtTime(targetGain, audioContext.currentTime, 0.1);
        }

        audioElement.addEventListener('play', function() {
            audioContext.resume().then(() => {
                adjustVolume();
            });
        });

        audioElement.play();
    });
});
</script>
<script>
  // Função para carregar a playlist
  async function carregarPlaylist() {
    try {
      const response = await fetch('playlist.html'); // Caminho do arquivo da playlist
      const playlistHTML = await response.text();
      
      // Insere a playlist dentro da <ul id="lista-musicas">
      document.getElementById('lista-musicas').innerHTML = playlistHTML;
    } catch (error) {
      console.error('Erro ao carregar a playlist:', error);
    }
  }

  // Chama a função assim que a página carregar
  document.addEventListener('DOMContentLoaded', carregarPlaylist);
</script>
</body>
</html>